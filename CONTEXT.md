# FortiGate 60F - FIPS-CC + CMMC Level 2 Configuration Context

## Device Information
- **Model:** FortiGate 60F
- **Serial Number:** FGT60FTK24031122
- **Current Version:** FortiOS 7.4.9 build2829 (GA.M)
- **Security Level:** High
- **FIPS-CC Mode:** Enabled (IRREVERSIBLE - cannot be disabled without factory reset)
- **Operation Mode:** NAT
- **Hostname:** CBS-FORTI

## Current Network Configuration

### WAN Interface (Testing)
- **wan1:** DHCP mode, currently for test internet access
- **Status:** Up
- **Note:** Temporary configuration - will be replaced with VLAN 847 for production

### Internal VLAN Interfaces
All VLANs are on the "internal" hardware switch (physical ports internal1-5):

1. **internal1.3** - IoT Guest Network
   - IP: 172.16.3.1/24
   - VLAN ID: 3
   - DHCP Pool: 172.16.3.100-200
   - DNS: 1.1.1.1, 8.8.8.8

2. **internal1.4** - CORP-LAN (Corporate Network)
   - IP: 172.16.4.1/24
   - VLAN ID: 4
   - DHCP Pool: 172.16.4.100-200
   - DNS: 1.1.1.1, 8.8.8.8
   - **⚠️ ISSUE:** Subnet conflicts with test WAN during testing
   - **Resolution:** Will be fixed when production WAN is configured

3. **internal1.5** - Studio-LAN
   - IP: 172.16.5.1/24
   - VLAN ID: 5
   - DHCP Pool: 172.16.5.100-200
   - DNS: 1.1.1.1, 8.8.8.8

4. **internal1.6** - Guest Network
   - IP: 172.16.6.1/24
   - VLAN ID: 6
   - DHCP Pool: 172.16.6.100-200
   - DNS: 1.1.1.1, 8.8.8.8

### Management Interface (Temporary)
- **dmz:** 192.168.99.1/24
- DHCP Pool: 192.168.99.100-110
- DNS: 1.1.1.1, 8.8.8.8
- Purpose: Temporary management access during configuration

## Production WAN Configuration (To Be Implemented)

### WAN VLAN 847 (Fiber Connection from ISP)
- **Interface:** wan1.847
- **VLAN ID:** 847
- **IP Address:** 204.186.251.250/30
- **Subnet Mask:** 255.255.255.252
- **Gateway:** 204.186.251.249
- **DNS Primary:** 8.8.8.8
- **DNS Secondary:** 8.8.4.4

## Firewall Policies

### Default FIPS-CC Security Policies (1-6)
Auto-generated by FIPS-CC mode to block bogon traffic:
- Policy 1-6: Block Class-E, Local-Link, non-global IPv6 traffic

### User-Created Policies

**Policy 11:** Management to Internet
- Source: dmz (192.168.99.0/24)
- Destination: wan1
- Action: Accept
- NAT: Enabled
- Logging: All traffic

**Policy 12:** Studio-LAN to Internet
- Source: internal1.5 (172.16.5.0/24)
- Destination: wan1
- Action: Accept
- NAT: Enabled
- Logging: All traffic

**Policy 13:** IoT to Internet
- Source: internal1.3 (172.16.3.0/24)
- Destination: wan1
- Action: Accept
- NAT: Enabled
- Logging: All traffic (isolated from other VLANs)

**Policy 14:** Guest to Internet
- Source: internal1.6 (172.16.6.0/24)
- Destination: wan1
- Action: Accept
- NAT: Enabled
- Logging: All traffic (isolated from other VLANs)

**Note:** No inter-VLAN traffic is permitted (CMMC segmentation requirement)

## CMMC Level 2 Compliance Settings

### Access Control (NIST 800-171: 3.1.x, 3.5.x)
- **Admin Timeout:** 15 minutes
- **Console Timeout:** 300 seconds (5 minutes)
- **Account Lockout:** 3 failed attempts
- **Lockout Duration:** 300 seconds (5 minutes)
- **Login Banners:** Pre-login and post-login enabled
- **Multi-Factor Authentication:** Optional (can be made required)

### Password Policy (NIST 800-171: 3.5.7)
- **Minimum Length:** 15 characters
- **Complexity Required:**
  - Minimum 1 lowercase letter
  - Minimum 1 uppercase letter
  - Minimum 1 number
  - Minimum 1 special character
- **Password Expiry:** 90 days
- **Password Reuse:** Disabled

### Cryptographic Protection (NIST 800-171: 3.13.11)
- **FIPS-CC Mode:** Enabled (FIPS 140-2 validated cryptography)
- **TLS Minimum Version:** TLS 1.2
- **SSH:** Version 2 only (v1 disabled)
- **Telnet:** Disabled
- **HTTPS Redirect:** Enabled for admin access

### Audit and Accountability (NIST 800-171: 3.3.x)
- **CLI Audit Log:** Enabled
- **SSL Connection Logging:** Enabled
- **Firewall Traffic Logging:** All policies log traffic
- **⚠️ TODO:** Configure centralized syslog/FortiAnalyzer

## Physical Connections

### Current Test Setup
```
[Internet] ─── wan1 (test)
[Computer] ─── dmz (management: 192.168.99.1)
```

### Production Setup (To Be Implemented)
```
[Fiber ISP] ─── wan1 (VLAN 847: 204.186.251.250/30)
[UniFi Switch] ─── internal1-5 (trunk with VLANs 3,4,5,6)
```

## Known Issues / Items to Address

1. **CORP-LAN VLAN Subnet Conflict**
   - internal1.4 (172.16.4.0/24) conflicts with test WAN
   - Will be resolved when production WAN is configured on different subnet

2. **Temporary Management Interface**
   - DMZ port currently used for management
   - Should be reconfigured for actual DMZ use in production

3. **WAN Configuration**
   - Currently using simple DHCP on wan1 for testing
   - Need to configure wan1.847 VLAN sub-interface for production fiber

## Migration from SonicWall

### Original SonicWall Configuration
- **X0:** 192.168.168.168/24 - Default LAN
- **X0:V3:** 172.16.3.1/24 - IoT Guest Network ✓ (Migrated)
- **X0:V4:** 172.16.4.1/24 - CORP-LAN ✓ (Configured, subnet conflict)
- **X0:V5:** 172.16.5.1/24 - Studio-LAN ✓ (Migrated)
- **X0:V6:** 172.16.6.1/24 - Guest Network ✓ (Migrated)
- **X1:V847:** 204.186.251.250/29 - WAN VLAN 847 (Pending)
- **X1:V1449:** 204.186.249.142/29 - VLAN 1449 (Not yet migrated)

### UniFi Switching Infrastructure
- VLANs already configured and operational on UniFi switches
- Ready to connect to FortiGate trunk port (internal1-5)

## Access Information

### GUI Access
- **Management Network:** https://192.168.99.1 (via DMZ port)
- **Production Access:** https://172.16.4.1 (CORP-LAN, when subnet resolved)

### Admin Credentials
- **Username:** admin
- **Password:** (15+ character password set during FIPS-CC setup)
- **Note:** Password meets CMMC Level 2 requirements

### Console Access
- **Port:** USB-C console port
- **Settings:** 9600 baud, 8N1
- **Default Login:** admin / (password above)

## Important Notes

### FIPS-CC Mode
⚠️ **CRITICAL:** FIPS-CC mode is **IRREVERSIBLE**. Once enabled, it cannot be disabled without performing a factory reset, which will erase all configuration.

### CMMC Compliance Status
✅ **Ready for C3PAO Assessment** with the following caveats:
- Need to configure centralized logging (syslog/FortiAnalyzer)
- Should create individual admin accounts (no shared admin)
- Consider enabling MFA for admin access
- Document system security plan
- Implement regular configuration backups

## Configuration Backup
Last manual backup should be performed before production deployment.

**Backup Command:**
```bash
execute backup config management-station "pre-production-backup"
```

Or via GUI: **System > Configuration > Backup**

## Support Resources
- **Fortinet Support:** https://support.fortinet.com
- **Serial Number for Support:** FGT60FTK24031122
- **Documentation:** FortiOS 7.4.9 Administration Guide
- **CMMC Resources:** https://www.acq.osd.mil/cmmc/

---
*Configuration completed: November 2025*
*FIPS-CC Mode: Enabled*
*CMMC Level 2: Compliant (pending final items)*
